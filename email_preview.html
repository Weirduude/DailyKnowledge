<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body style='font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height:1.6; color:#333; max-width:700px; margin:0 auto; padding:20px; background-color:#f5f5f5' bgcolor="#f5f5f5">
<div class="container" style="background-color:#fff; border-radius:8px; padding:30px; box-shadow:0 2px 4px rgba(0, 0, 0, 0.1)" bgcolor="#ffffff">
    <h1 style="color:#1a73e8; border-bottom:2px solid #1a73e8; padding-bottom:10px">ğŸ§  æ¯æ—¥ AI çŸ¥è¯†å¡ç‰‡</h1>
    <p style="color: #5f6368;">ğŸ“… 2025å¹´12æœˆ25æ—¥</p>

    <div class="stats" style="display:flex; justify-content:space-around; margin:20px 0; padding:15px; background-color:#f8f9fa; border-radius:8px" bgcolor="#f8f9fa">
        <div class="stat-item" style="text-align:center" align="center">
            <div class="stat-value" style="font-size:24px; font-weight:bold; color:#1a73e8">0</div>
            <div class="stat-label" style="font-size:12px; color:#5f6368">å·²å­¦ä¹ </div>
        </div>
        <div class="stat-item" style="text-align:center" align="center">
            <div class="stat-value" style="font-size:24px; font-weight:bold; color:#1a73e8">âˆ</div>
            <div class="stat-label" style="font-size:12px; color:#5f6368">å¾…å­¦ä¹ </div>
        </div>
        <div class="stat-item" style="text-align:center" align="center">
            <div class="stat-value" style="font-size:24px; font-weight:bold; color:#1a73e8">None%</div>
            <div class="stat-label" style="font-size:12px; color:#5f6368">è¿›åº¦</div>
        </div>
    </div>

    <div class="new-section" style="background-color:#e8f5e9; border-left:4px solid #34a853; padding:16px; margin:20px 0; border-radius:0 8px 8px 0" bgcolor="#e8f5e9">
        <h2 style="color:#34a853; margin-top:30px">ğŸŒŸ ä»Šæ—¥æ–°çŸ¥</h2>
        <span class="category-badge category-Architecture" style="display:inline-block; padding:4px 12px; border-radius:16px; font-size:14px; font-weight:500; margin-bottom:15px">ğŸ—ï¸ Architecture</span>
        <h3 style="color:#5f6368; margin-top:20px">State Space Models (SSM) and Mamba Architecture</h3>
        <h3 style="color:#5f6368; margin-top:20px">ğŸ“Œ å®šä¹‰ä¸èƒŒæ™¯ (What &amp; Why)</h3>
<p><strong>State Space Models (SSM)</strong> æ˜¯ä¸€ç±»å€Ÿé‰´è‡ªç»å…¸æ§åˆ¶ç†è®ºçš„åºåˆ—å»ºæ¨¡æ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€ç»„ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹ï¼ˆæˆ–å·®åˆ†æ–¹ç¨‹ï¼‰æè¿°è¾“å…¥åºåˆ— <img src="https://latex.codecogs.com/svg.latex?x%28t%29" alt="x(t)" style="vertical-align:middle;height:1.1em;">ã€éšè—çŠ¶æ€ <img src="https://latex.codecogs.com/svg.latex?h%28t%29" alt="h(t)" style="vertical-align:middle;height:1.1em;"> ä¸è¾“å‡ºåºåˆ— <img src="https://latex.codecogs.com/svg.latex?y%28t%29" alt="y(t)" style="vertical-align:middle;height:1.1em;"> ä¹‹é—´çš„æ¼”åŒ–å…³ç³»ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ</strong><br>
ä¼ ç»Ÿçš„ Transformer æ¶æ„ä¾èµ–äº Attention æœºåˆ¶ï¼Œå…¶è®¡ç®—å¤æ‚åº¦éšåºåˆ—é•¿åº¦ <img src="https://latex.codecogs.com/svg.latex?L" alt="L" style="vertical-align:middle;height:1.1em;"> å‘ˆäºŒæ¬¡æ–¹å¢é•¿ (<img src="https://latex.codecogs.com/svg.latex?O%28L%5E2%29" alt="O(L^2)" style="vertical-align:middle;height:1.1em;">)ï¼Œè¿™é™åˆ¶äº†å…¶åœ¨è¶…é•¿æ–‡æœ¬ã€é«˜åˆ†è¾¨ç‡å›¾åƒæˆ–é•¿è§†é¢‘ä»»åŠ¡ä¸­çš„åº”ç”¨ã€‚SSM çš„å‡ºç°æ—¨åœ¨æ‰“ç ´è¿™ä¸€ç“¶é¢ˆï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§ï¼š<br>
1.  <strong>çº¿æ€§å¤æ‚åº¦</strong>ï¼šæ¨ç†æ—¶å…·æœ‰ RNN çš„ <img src="https://latex.codecogs.com/svg.latex?O%281%29" alt="O(1)" style="vertical-align:middle;height:1.1em;"> çŠ¶æ€æ›´æ–°å¼€é”€ï¼Œè®­ç»ƒæ—¶é€šè¿‡å·ç§¯æˆ–å¹¶è¡Œå‰ç¼€å’Œï¼ˆParallel Scanï¼‰å®ç° <img src="https://latex.codecogs.com/svg.latex?O%28L%29" alt="O(L)" style="vertical-align:middle;height:1.1em;"> è®¡ç®—ã€‚<br>
2.  <strong>é•¿è·ç¦»ä¾èµ–</strong>ï¼šé€šè¿‡æ•°å­¦ä¸Šçš„ç»“æ„åŒ–è®¾è®¡ï¼ˆå¦‚ HiPPO çŸ©é˜µï¼‰ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ•æ‰æ•°ä¸‡ä¸ª token ä¹‹å¤–çš„ä¾èµ–å…³ç³»ã€‚<br>
3.  <strong>ç¡¬ä»¶æ„ŸçŸ¥ä¼˜åŒ– (Mamba)</strong>ï¼šMamba é€šè¿‡å¼•å…¥<strong>é€‰æ‹©æ€§æœºåˆ¶ (Selective Mechanism)</strong> å’Œé«˜æ•ˆçš„ CUDA Kernelï¼Œè§£å†³äº†ä¼ ç»Ÿ SSM åœ¨ç¦»æ•£æ¨ç†å’Œå†…å®¹æ„ŸçŸ¥ä¸Šçš„ä¸è¶³ã€‚</p>
<hr>
<h3 style="color:#5f6368; margin-top:20px">ğŸ”¬ æ ¸å¿ƒåŸç† (How it Works)</h3>
<h4>1. è¿ç»­æ—¶é—´çŠ¶æ€ç©ºé—´è¡¨ç¤º</h4>
<p>SSM çš„åŸºç¡€æ˜¯ä¸€ä¸ªçº¿æ€§å¸¸å¾®åˆ†æ–¹ç¨‹ç³»ç»Ÿï¼š</p>
<div style="text-align:center;margin:16px 0;"><img src="https://latex.codecogs.com/svg.latex?%5Cbegin%7Baligned%7D%0A%5Cdot%7Bh%7D%28t%29%20%26%3D%20Ah%28t%29%20%2B%20Bx%28t%29%20%5C%5C%0Ay%28t%29%20%26%3D%20Ch%28t%29%20%2B%20Dx%28t%29%0A%5Cend%7Baligned%7D" alt="\begin{aligned}
\dot{h}(t) &amp;= Ah(t) + Bx(t) \\
y(t) &amp;= Ch(t) + Dx(t)
\end{aligned}" style="max-width:100%;"></div>

<p>å…¶ä¸­ <img src="https://latex.codecogs.com/svg.latex?A%20%5Cin%20%5Cmathbb%7BR%7D%5E%7BN%20%5Ctimes%20N%7D" alt="A \in \mathbb{R}^{N \times N}" style="vertical-align:middle;height:1.1em;"> æ˜¯çŠ¶æ€è½¬ç§»çŸ©é˜µï¼Œ<img src="https://latex.codecogs.com/svg.latex?B%20%5Cin%20%5Cmathbb%7BR%7D%5E%7BN%20%5Ctimes%201%7D" alt="B \in \mathbb{R}^{N \times 1}" style="vertical-align:middle;height:1.1em;"> å’Œ <img src="https://latex.codecogs.com/svg.latex?C%20%5Cin%20%5Cmathbb%7BR%7D%5E%7B1%20%5Ctimes%20N%7D" alt="C \in \mathbb{R}^{1 \times N}" style="vertical-align:middle;height:1.1em;"> æ˜¯æŠ•å½±çŸ©é˜µã€‚</p>
<h4>2. ç¦»æ•£åŒ– (Discretization)</h4>
<p>ä¸ºäº†å¤„ç†ç¦»æ•£çš„è¾“å…¥åºåˆ—ï¼ˆå¦‚ Tokensï¼‰ï¼Œéœ€è¦å¼•å…¥æ­¥é•¿å‚æ•° <img src="https://latex.codecogs.com/svg.latex?%5CDelta" alt="\Delta" style="vertical-align:middle;height:1.1em;"> å°†è¿ç»­ç³»ç»Ÿç¦»æ•£åŒ–ã€‚å¸¸ç”¨ <strong>Zero-Order Hold (ZOH)</strong> æ–¹æ³•ï¼š</p>
<div style="text-align:center;margin:16px 0;"><img src="https://latex.codecogs.com/svg.latex?%5Cbegin%7Baligned%7D%0A%5Cbar%7BA%7D%20%26%3D%20%5Cexp%28%5CDelta%20A%29%20%5C%5C%0A%5Cbar%7BB%7D%20%26%3D%20%28%5CDelta%20A%29%5E%7B-1%7D%28%5Cexp%28%5CDelta%20A%29%20-%20I%29%20%5Ccdot%20%5CDelta%20B%0A%5Cend%7Baligned%7D" alt="\begin{aligned}
\bar{A} &amp;= \exp(\Delta A) \\
\bar{B} &amp;= (\Delta A)^{-1}(\exp(\Delta A) - I) \cdot \Delta B
\end{aligned}" style="max-width:100%;"></div>

<p>ç¦»æ•£åçš„å½¢å¼ä¸ºï¼š<img src="https://latex.codecogs.com/svg.latex?h_k%20%3D%20%5Cbar%7BA%7Dh_%7Bk-1%7D%20%2B%20%5Cbar%7BB%7Dx_k" alt="h_k = \bar{A}h_{k-1} + \bar{B}x_k" style="vertical-align:middle;height:1.1em;">ï¼Œ<img src="https://latex.codecogs.com/svg.latex?y_k%20%3D%20Ch_k" alt="y_k = Ch_k" style="vertical-align:middle;height:1.1em;">ã€‚</p>
<h4>3. Mamba çš„æ ¸å¿ƒï¼šé€‰æ‹©æ€§ (Selectivity)</h4>
<p>ä¼ ç»Ÿçš„ SSMï¼ˆå¦‚ S4ï¼‰æ˜¯ <strong>çº¿æ€§æ—¶ä¸å˜ (LTI)</strong> çš„ï¼Œå³ <img src="https://latex.codecogs.com/svg.latex?A%2C%20B%2C%20C" alt="A, B, C" style="vertical-align:middle;height:1.1em;"> çŸ©é˜µä¸éšè¾“å…¥ <img src="https://latex.codecogs.com/svg.latex?x" alt="x" style="vertical-align:middle;height:1.1em;"> å˜åŒ–ã€‚è¿™å¯¼è‡´æ¨¡å‹æ— æ³•æ ¹æ®å†…å®¹â€œè¿‡æ»¤â€ä¿¡æ¯ã€‚Mamba å¼•å…¥äº† <strong>S6 (Selective SSM)</strong>ï¼š<br>
- è®© <img src="https://latex.codecogs.com/svg.latex?B%2C%20C" alt="B, C" style="vertical-align:middle;height:1.1em;"> å’Œæ­¥é•¿ <img src="https://latex.codecogs.com/svg.latex?%5CDelta" alt="\Delta" style="vertical-align:middle;height:1.1em;"> æˆä¸ºè¾“å…¥ <img src="https://latex.codecogs.com/svg.latex?x_t" alt="x_t" style="vertical-align:middle;height:1.1em;"> çš„å‡½æ•°ï¼š<img src="https://latex.codecogs.com/svg.latex?B_t%20%3D%20f_B%28x_t%29%2C%20C_t%20%3D%20f_C%28x_t%29%2C%20%5CDelta_t%20%3D%20f_%7B%5CDelta%7D%28x_t%29" alt="B_t = f_B(x_t), C_t = f_C(x_t), \Delta_t = f_{\Delta}(x_t)" style="vertical-align:middle;height:1.1em;">ã€‚<br>
- è¿™ç§æ”¹è¿›ä½¿æ¨¡å‹å…·å¤‡äº†ç±»ä¼¼äº Attention çš„â€œé€‰æ‹©æ€§èšç„¦â€èƒ½åŠ›ï¼Œä½†ä»£ä»·æ˜¯ç ´åäº†å…¨å±€å·ç§¯ç‰¹æ€§ï¼Œå¿…é¡»ä¾èµ– <strong>Parallel Scan</strong> ç®—æ³•åœ¨ GPU ä¸ŠåŠ é€Ÿã€‚</p>
<hr>
<h3 style="color:#5f6368; margin-top:20px">ğŸ“Š å…³é”®æ´å¯Ÿ (Key Insights)</h3>
<ul>
<li><strong>åŒé‡èº«ä»½ (RNN vs CNN)</strong>ï¼šSSM åœ¨æ¨ç†æ—¶è¡¨ç°ä¸º RNNï¼ˆä½å»¶è¿Ÿã€æ’å®šæ˜¾å­˜ï¼‰ï¼Œåœ¨è®­ç»ƒæ—¶é€šè¿‡å¹¶è¡Œç®—æ³•è¡¨ç°ä¸º CNNï¼ˆé«˜å¹¶è¡Œåº¦ï¼‰ã€‚Mamba è¿›ä¸€æ­¥é€šè¿‡ <strong>Hardware-aware Algorithm</strong> å°†çŠ¶æ€å‹ç¼©åœ¨ SRAM ä¸­ï¼Œå‡å°‘äº† DRAM è¯»å†™ã€‚</li>
<li><strong>HiPPO ç†è®ºçš„æ”¯æŒ</strong>ï¼šSSM ä¹‹æ‰€ä»¥èƒ½å¤„ç†é•¿åºåˆ—ï¼Œæ˜¯å› ä¸ºå…¶ <img src="https://latex.codecogs.com/svg.latex?A" alt="A" style="vertical-align:middle;height:1.1em;"> çŸ©é˜µé€šå¸¸åˆå§‹åŒ–ä¸º <strong>HiPPO (High-Order Polynomial Projection Operators)</strong> ç»“æ„ï¼Œå®ƒåœ¨æ•°å­¦ä¸Šè¯æ˜äº†èƒ½å°†å†å²ä¿¡å·çš„æœ€ä¼˜æŠ•å½±ä¿ç•™åœ¨æœ‰é™ç»´åº¦çš„çŠ¶æ€ç©ºé—´ä¸­ã€‚</li>
<li><strong>ä¸ Transformer çš„æƒè¡¡</strong>ï¼š<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ¨ç†ååé‡éšé•¿åº¦çº¿æ€§å¢é•¿ï¼›å†…å­˜å ç”¨æä½ã€‚</li>
<li><strong>å±€é™</strong>ï¼šåœ¨éœ€è¦å¼ºé€»è¾‘å½’çº³ï¼ˆå¦‚å¤æ‚æ¨ç†ã€In-context Learningï¼‰çš„ä»»åŠ¡ä¸Šï¼Œç›®å‰ä»ç•¥é€Šäºæœ€é¡¶å°–çš„ Transformerï¼Œä¸”å¯¹å‚æ•°åˆå§‹åŒ–æå…¶æ•æ„Ÿã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 style="color:#5f6368; margin-top:20px">ğŸ’» ä»£ç ç¤ºä¾‹ (Code)</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ Selective SSM (Mamba æ ¸å¿ƒé€»è¾‘) çš„ PyTorch å®ç°å‚è€ƒï¼š</p>
<pre class="highlight" style="background-color:#f8f9fa; border:1px solid #e8eaed; border-radius:8px; padding:16px; overflow-x:auto; font-size:14px" bgcolor="#f8f9fa"><code class="language-python" style='font-family:"Fira Code", "Monaco", "Consolas", monospace; background-color:transparent; padding:0; border-radius:4px; font-size:0.9em'>import torch
import torch.nn as nn
import torch.nn.functional as F

class SimpleMambaBlock(nn.Module):
    def __init__(self, d_model, d_state=16, d_conv=4, expand=2):
        super().__init__()
        self.d_inner = expand * d_model
        self.in_proj = nn.Linear(d_model, self.d_inner * 2)

        # 1D Convolution for local context
        self.conv1d = nn.Conv1d(self.d_inner, self.d_inner, kernel_size=d_conv, 
                                groups=self.d_inner, padding=d_conv-1)

        # Selective mechanism: B, C, and Delta are input-dependent
        self.x_proj = nn.Linear(self.d_inner, d_state * 2 + 1) 
        self.dt_proj = nn.Linear(1, self.d_inner)

        # S4 matrix A (standard structured initialization)
        self.A_log = nn.Parameter(torch.log(torch.arange(1, d_state + 1).float()))
        self.D = nn.Parameter(torch.ones(self.d_inner))

    def forward(self, x):
        # x shape: (batch, seq_len, d_model)
        b, l, d = x.shape
        x_and_res = self.in_proj(x)  # (b, l, 2*d_inner)
        x, res = x_and_res.chunk(2, dim=-1)

        # 1. Local Convolution
        x = x.transpose(1, 2)
        x = self.conv1d(x)[:, :, :l]
        x = F.silu(x).transpose(1, 2) # (b, l, d_inner)

        # 2. Selective SSM (S6)
        # Compute B, C, Delta
        x_db = self.x_proj(x) # (b, l, 2*d_state + 1)
        dt, B, C = torch.split(x_db, [1, d_state, d_state], dim=-1)
        dt = F.softplus(self.dt_proj(dt)) # (b, l, d_inner)

        # Discretization of A (Simplified)
        A = -torch.exp(self.A_log) # (d_state)

        # Recurrent/Scan Step (Simplified for conceptual understanding)
        # In practice, this is implemented via a highly optimized CUDA Scan kernel
        y = self.selective_scan(x, dt, A, B, C) 

        return y * F.silu(res)

    def selective_scan(self, x, dt, A, B, C):
        # Simplified placeholder for the parallel scan logic
        # Actual Mamba uses a fused CUDA kernel for O(L) efficiency
        return x * 0.5 # Conceptual output
</code></pre>

<hr>
<h3 style="color:#5f6368; margin-top:20px">ğŸ“š å»¶ä¼¸é˜…è¯» (Further Reading)</h3>
<ol>
<li><strong>Gu, Dao, and Ermon</strong>, "Efficiently Modeling Long Sequences with Structured State Spaces", <strong>ICLR 2022</strong>. (S4 å¥ åŸºä¹‹ä½œï¼Œå¼•å…¥äº† HiPPO å’Œ Cauchy æ ¸ä¼˜åŒ–)</li>
<li><strong>Gu and Dao</strong>, "Mamba: Linear-Time Sequence Modeling with Selective State Spaces", <strong>arXiv 2023</strong>. (å¼•å…¥é€‰æ‹©æ€§æœºåˆ¶ä¸ç¡¬ä»¶æ„ŸçŸ¥ä¼˜åŒ–ï¼ŒSSM çš„é‡Œç¨‹ç¢‘)</li>
<li><strong>Fu et al.</strong>, "Hungry Hungry Hippos: Towards Language Modeling with Structured State Spaces", <strong>ICLR 2023</strong>. (æ¢ç´¢ SSM åœ¨è¯­è¨€å»ºæ¨¡ä¸­çš„æ½œåŠ›)</li>
</ol>
<hr>
<h3 style="color:#5f6368; margin-top:20px">âš¡ ä¸€å¥è¯æ€»ç»“ (TL;DR)</h3>
<p>Mamba é€šè¿‡å¼•å…¥<strong>è¾“å…¥æ„ŸçŸ¥çš„é€‰æ‹©æ€§æœºåˆ¶</strong>ä¸<strong>ç¡¬ä»¶å‹å¥½å‹å¹¶è¡Œç®—æ³•</strong>ï¼Œå®ç°äº†å…·å¤‡ <img src="https://latex.codecogs.com/svg.latex?O%28L%29" alt="O(L)" style="vertical-align:middle;height:1.1em;"> å¤æ‚åº¦çš„é•¿åºåˆ—é«˜æ•ˆå»ºæ¨¡ï¼Œæ˜¯ Transformer å¼ºæœ‰åŠ›çš„ç«äº‰è€…ã€‚</p>
    </div>

    <div class="footer" style="margin-top:30px; padding-top:20px; border-top:1px solid #e8eaed; color:#5f6368; font-size:12px; text-align:center" align="center">
        <p>ğŸ“š DailyKnowledge - æ¯æ—¥ AI çŸ¥è¯†æ¨é€ç³»ç»Ÿ</p>
        <p>åŸºäºè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿çš„é—´éš”é‡å¤å­¦ä¹ </p>
    </div>
</div>
</body>
</html>